function e(e,t){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const t=e=>"function"==typeof e,n=e=>"object"==typeof e;class r{constructor(e,t,n){this.message=t,this.target=e,this.value=n}}const l={true:1,"":1,1:1};function s(e,l,s,a,f){let{type:h,reflect:d,event:p,value:y,attr:m=i(l)}=n(s)&&null!=s?s:{type:s},b=!(h==Function||null==h);Object.defineProperty(e,l,{configurable:!0,set(e){let n=this[l],{error:s,value:i}=c(h,b&&t(e)?e(n):e);if(s&&null!=i)throw new r(this,`The value defined for prop '${l}' must be of type '${h.name}'`,i);n!=i&&(this.update({[l]:i}),p&&o(this,p),this.updated.then((()=>{d&&(this._ignoreAttr=m,u(this,h,m,this[l]),this._ignoreAttr=null)})))},get(){return this._props[l]}}),null!=y&&(f[l]=y),a[m]={prop:l,type:h}}const o=(e,{type:t,base:n=CustomEvent,...r})=>e.dispatchEvent(new n(t,r)),i=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),u=(e,t,r,l)=>null==l||t==Boolean&&!l?e.removeAttribute(r):e.setAttribute(r,n(l)?JSON.stringify(l):t==Boolean?"":l),c=(e,t)=>null==e?{value:t}:e!=String&&""===t?{value:null}:{}.toString.call(t)==`[object ${e.name}]`?{value:t,error:e==Number&&Number.isNaN(t)}:{value:t,error:!0};let a,f;function h(){return d(((e={current:a.host})=>e))}function d(e,t,n){return a.use(e,t,n)}const p={id:1,className:1,checked:1,value:1,selected:1},y={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},m={shadowDom:1,renderOnce:1,children:1,key:1},b={},v=[],g=document;class w extends Text{get nodeType(){return-1}}const S=Symbol(),k=Symbol();function C(e,t,...n){let r=t||b,{children:l}=r;l=null!=l?l:n.length?n:v;const s=!!e&&(e instanceof Node?1:e.prototype instanceof HTMLElement&&2);return{$$:S,type:e,props:r,children:l,key:r.key,shadow:r.shadowDom,once:r.renderOnce,raw:s,is:r.is}}function E(e,t,n=k,r,l){let s;if(t&&t[n]&&t[n].vnode==e||e.$$!=S)return t;if((e||!t)&&(l=l||"svg"==e.type,s=!("host"==e.type||(1==e.raw?t==e.type:2==e.raw?t instanceof e.type:t?t.localName==e.type:t)),s)){if(e.ref)return e.ref.cloneNode(!0);null!=e.type&&(e.ref=t=1==e.raw?e.type:2==e.raw?new e.type:l?g.createElementNS("http://www.w3.org/2000/svg",e.type):g.createElement(e.type,e.is?{is:e.is}:void 0))}let{vnode:o=b,cycle:i=0,fragment:u,handlers:c}=t[n]?t[n]:b,{children:a=v,props:f=b}=o;if(c=s?{}:c||{},e.once&&!s)return t;if(e.shadow&&!t.shadowRoot&&t.attachShadow({mode:"open"}),e.props!=f&&function(e,t,n,r,l){for(let s in t)s in n||N(e,s,t[s],null,l,r);for(let s in n)N(e,s,t[s],n[s],l,r)}(t,f,e.props,c,l),e.children!==a){let s=e.shadow?t.shadowRoot:t;u=function(e,t,n,r,l,s){e=null==e?null:Array.isArray(e)?e:[e];let o,i=t||function(e,t){const n=new w(""),r=new w("");return e[t?"prepend":"append"](n),e.append(r),{s:n,e:r}}(n,l),{s:u,e:c,k:a}=i,f=a&&new Set,h=u;function d(e){let{length:t}=e;for(let i=0;i<t;i++){let t=e[i],u=typeof t;if(null==t||"boolean"==u||"function"==u)continue;if(Array.isArray(t)){d(t);continue}if("object"==u&&t.$$!=S)continue;let p=t.$$&&t.key,y=a&&null!=p&&a.get(p);h!=c&&h===y?f.delete(h):h=h==c?c:h.nextSibling;let m=a?y:h,b=m;if(t.$$)b=E(t,m,r,l,s);else{let e=t+"";3!=b.nodeType?b=new Text(e):b.data!=e&&(b.data=e)}b!=h&&(a&&f.delete(b),!m||a?(n.insertBefore(b,h),a&&h!=c&&f.add(h)):m==c?n.insertBefore(b,c):(n.replaceChild(b,m),h=b)),null!=p&&(o=o||new Map,o.set(p,b))}}if(e&&d(e),h=h==c?c:h.nextSibling,t&&h!=c)for(;h!=c;){let e=h;h=h.nextSibling,e.remove()}return f&&f.forEach((e=>e.remove())),i.k=o,i}(e.children,u,s,n,!i&&r,(!l||"foreignObject"!=e.type)&&l)}return i++,t[n]={vnode:e,handlers:c,fragment:u,cycle:i},t}function N(e,r,l,s,o,i){if(l=null==l?null:l,s=null==s?null:s,(r="class"!=r||o?r:"className")in e&&p[r]&&(l=e[r]),s!==l&&!m[r]&&"_"!=r[0])if("o"==r[0]&&"n"==r[1]&&(t(s)||t(l)))!function(e,t,n,r){r.handleEvent||(r.handleEvent=t=>r[t.type].call(e,t));n?(r[t]||e.addEventListener(t,r),r[t]=n):r[t]&&(e.removeEventListener(t,r),delete r[t])}(e,r.slice(2),s,i);else if("ref"==r)s&&(s.current=e);else if("style"==r){let t=e.style;s=s||"";let r=n(l=l||""),o=n(s);if(r)for(let e in l){if(!o)break;e in s||A(t,e,null)}if(o)for(let e in s){let n=s[e];r&&l[e]===n||A(t,e,n)}else t.cssText=s}else!o&&!y[r]&&r in e||t(s)||t(l)?e[r]=null==s?"":s:null==s?e.removeAttribute(r):e.setAttribute(r,n(s)?JSON.stringify(s):s)}function A(e,t,n){let r="setProperty";null==n&&(r="removeProperty",n=null),~t.indexOf("-")?e[r](t,n):e[t]=n}const $=!!document.adoptedStyleSheets,_=null;function x(e,t=HTMLElement){let n={},r={},{props:o,styles:i}=e;return class extends t{constructor(){super(),this._setup(),this._render=()=>e({...this._props});for(let e in r)this[e]=r[e]}static get styles(){return[].concat(super.styles||[],i||[])}async _setup(){if(this._props)return;this._props={},this.mounted=new Promise((e=>this.mount=e)),this.unmounted=new Promise((e=>this.unmount=e)),this.symbolId=this.symbolId||Symbol();let e,t=function(e,t){let n={},r={use:function(e,t,r){let l=f++;return n[l]=[e(n[l]?n[l][0]:void 0),t,r],n[l][0]},host:t,update:e};function l(e,t){for(let r in n){let l=n[r];l[e]&&(l[0]=l[e](l[0],t))}}return{load:function(e){let t;f=0,a=r;try{t=e()}finally{a=null}return t},cleanEffects:function(e){return l(1,e),()=>{l(2,e),e&&(n={})}}}}((()=>this.update()),this),n=!0,r="hydrate"in this.dataset;this.update=l=>{if(e||(e=!0,this.updated=(this.updated||this.mounted).then((()=>{try{return E(t.load(this._render),this,this.symbolId,n&&r),e=!1,n&&(n=!1,function(e){let{styles:t}=e.constructor,{shadowRoot:n}=e;n&&t.length&&(t=[...new Set(t)],$?n.adoptedStyleSheets=[...t]:t.map((e=>n.appendChild(e.cloneNode(!0)))))}(this)),!_&&t.cleanEffects()}finally{e=!1}})).then((e=>{e&&e()}))),l)for(let e in l)this._props[e]=l[e];return this.updated},this.update(),await this.unmounted,t.cleanEffects(!0)()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}async disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),await this.mounted,!this.isConnected&&this.unmount()}attributeChangedCallback(e,t,r){if(n[e]){if(e===this._ignoreAttr||t===r)return;let{prop:s,type:o}=n[e];this[s]=((e,t)=>e==Boolean?!!l[t]:e==Number?Number(t):e==Array||e==Object?JSON.parse(t):t)(o,r)}else super.attributeChangedCallback(e,t,r)}static get observedAttributes(){let e=super.observedAttributes||[];for(let t in o)s(this.prototype,t,o[t],n,r);return Object.keys(n).concat(e)}}}let O=n=>(r,l)=>{let s=([e,n],l)=>{if(!l)return[e||r(n),n];t(e)&&e()};d((([n,r]=[])=>(!r&&r||(r&&e(r,l)?n=n||!0:(t(n)&&n(),n=null)),[n,l])),1==n&&s,2==n&&s)},j=O(1),T=O(2);function L(e){let t=h();if(e in t.current){if(!t[e]){let n=[null,n=>t.current[e]=n];t[e]=n}return t[e][0]=t.current[e],t[e]}}function B(e,t={}){let n=h();return n[e]||(n[e]=(r=t.detail)=>o(n.current,{type:e,...t,detail:r})),n[e]}function M(t,n){let[r]=d((([r,l,s=0]=[])=>((!l||l&&!e(l,n))&&(r=t(n)),[r,n,s])));return r}const P={};function I(e,...t){let n=e.reduce(((e,n,r)=>e+n+(t[r]||"")),"");return P[n]=P[n]||function(e){if($){let t=new CSSStyleSheet;return t.replaceSync(e),t}{let t=g.createElement("style");return t.textContent=e,t}}(n)}var J=function(e,t,n,r){var l;t[0]=0;for(var s=1;s<t.length;s++){var o=t[s++],i=t[s]?(t[0]|=o?1:2,n[t[s++]]):t[++s];3===o?r[0]=i:4===o?r[1]=Object.assign(r[1]||{},i):5===o?(r[1]=r[1]||{})[t[++s]]=i:6===o?r[1][t[++s]]+=i+"":o?(l=e.apply(i,J(e,i,n,["",null])),r.push(l),i[0]?t[0]|=2:(t[s-2]=0,t[s]=l)):r.push(i)}return r},R=new Map;(function(e){var t=R.get(this);return t||(t=new Map,R.set(this,t)),(t=J(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,r=1,l="",s="",o=[0],i=function(e){1===r&&(e||(l=l.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?o.push(0,e,l):3===r&&(e||l)?(o.push(3,e,l),r=2):2===r&&"..."===l&&e?o.push(4,e,0):2===r&&l&&!e?o.push(5,0,!0,l):r>=5&&((l||!e&&5===r)&&(o.push(r,0,l,n),r=6),e&&(o.push(r,e,0,n),r=6)),l=""},u=0;u<e.length;u++){u&&(1===r&&i(),i(u));for(var c=0;c<e[u].length;c++)t=e[u][c],1===r?"<"===t?(i(),o=[o],r=3):l+=t:4===r?"--"===l&&">"===t?(r=1,l=""):l=t+l[0]:s?t===s?s="":l+=t:'"'===t||"'"===t?s=t:">"===t?(i(),r=1):r&&("="===t?(r=5,n=l,l=""):"/"===t&&(r<5||">"===e[u][c+1])?(i(),3===r&&(o=o[0]),r=o,(o=o[0]).push(2,0,r),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(i(),r=2):l+=t),3===r&&"!--"===l&&(r=4,o=o[0])}return i(),o}(e)),t),arguments,[])).length>1?t:t[0]}).bind(C);const D=C("host");function H(e){return e&&"object"==typeof e?e="host"==e.type?e:C("host",null,e):D}function z(e,t){const n=h();n.id=n.id||Symbol(),M((()=>E(H(e()),n.current,n.id)),t),T((()=>()=>E(H(),n.current,n.id)),[])}function F(e,t,n,r){const l=d(((e={current:s})=>e));var s;l.current=n,j((()=>{const{current:n}=e;if(!n)return;return n.addEventListener(t,(e=>l.current(e)),r),()=>n.removeEventListener(n)}),[t,!!n])}function Z(){return function(e){const t=h();return M((()=>{let{current:n}=t;for(;n=n.parentNode||n.host;)if(n.matches&&n.matches(e))return{current:n};return{}}),[e])}("form")}function q(e,t,n){F(Z(),e,t,n)}export{x as a,q as b,I as c,z as d,B as e,C as h,L as u};
